From b9b942878951c8063c5f7a9d7f062dff9cd0bd8e Mon Sep 17 00:00:00 2001
From: Baozhu Zuo <zuobaozhu@gmail.com>
Date: Fri, 22 Sep 2017 17:35:40 +0800
Subject: [PATCH 4/5] arch: arm: boot: dts: use x-power ac108 dts config,
 enable i2c2

---
 arch/arm/boot/dts/rk3229-respeaker-v2.dts | 53 ++++---------------------------
 1 file changed, 7 insertions(+), 46 deletions(-)

diff --git a/arch/arm/boot/dts/rk3229-respeaker-v2.dts b/arch/arm/boot/dts/rk3229-respeaker-v2.dts
index a0b74ba..b648232 100644
--- a/arch/arm/boot/dts/rk3229-respeaker-v2.dts
+++ b/arch/arm/boot/dts/rk3229-respeaker-v2.dts
@@ -465,59 +465,20 @@
 &i2c1 {
 	status = "okay";
 
-	ac108_0: ac08@3b {
+	ac108_0: ac108@3b {
 		#sound-dai-cells = <0>;
-		compatible = "x-power,ac108_0";
-		clocks = <&xin24m>;
-		clock-names = "mclk";
+		compatible = "MicArray_0";
 		reg = <0x3b>;
-		data-protocol = <0>;
-		init-data =  /bits/ 8 <
-		/*reg val*/
-		0x39  0x03  /*0x39:TX1 Channel1 ~Channel8 (slot) enable:two ch*/
-		0x3a  0x00  /*0x3A:TX1 Channel1 ~Channel8 (slot) enable*/
-		0x41  0x03  /*0x41:TX2 Channel1 ~Channel8 (slot) enable:two ch*/
-		0x42  0x00  /*0x42:TX2 Channel1 ~Channel8 (slot) enable*/
-		0x38  0x01  /*0x38:TX1 Channel (slot) number Select for each output:two 2ch*/
-		0x40  0x01  /*0x40:TX1 Channel (slot) number Select for each output:two 2ch*/
-		0x3c  0x04  /*0x3c:  TX1 Channel Mapping Control 1:ch1 ch2*/
-		0x3d  0x00  /*0x3d:  TX1 Channel Mapping Control 2*/
-		0x3e  0x00  /*0x3e:  TX1 Channel Mapping Control 3*/
-		0x3f  0x00  /*0x3f:  TX1 Channel Mapping Control 4*/
-		0x44  0x0e  /*0x44:  TX2 Channel Mapping Control 1:ch3 ch4*/
-		0x45  0x00  /*0x45:  TX2 Channel Mapping Control 2*/
-		0x46  0x00  /*0x46:  TX2 Channel Mapping Control 3*/
-		0x47  0x00  /*0x47:  TX2 Channel Mapping Control 4*/
-		0xad  0x50
-		>;
 	};
-	ac108_1: ac08@35 {
+	ac108_1: ac108@35 {
 		#sound-dai-cells = <0>;
-		compatible = "x-power,ac108_1";
-		clocks = <&xin24m>;
-		clock-names = "mclk";
+		compatible = "MicArray_1";
 		reg = <0x35>;
-		data-protocol = <0>;
-		init-data =  /bits/ 8 <
-		/*reg val*/
-		0x39  0x03  /*0x39:TX1 Channel1 ~Channel8 (slot) enable:two ch*/
-		0x3a  0x00  /*0x3A:TX1 Channel1 ~Channel8 (slot) enable*/
-		0x41  0x03  /*0x41:TX2 Channel1 ~Channel8 (slot) enable:two ch*/
-		0x42  0x00  /*0x42:TX2 Channel1 ~Channel8 (slot) enable*/
-		0x38  0x01  /*0x38:TX1 Channel (slot) number Select for each output:two 2ch*/
-		0x40  0x01  /*0x40:TX1 Channel (slot) number Select for each output:two 2ch*/
-		0x3c  0x04  /*0x3c:  TX1 Channel Mapping Control 1:ch1 ch2*/
-		0x3d  0x00  /*0x3d:  TX1 Channel Mapping Control 2*/
-		0x3e  0x00  /*0x3e:  TX1 Channel Mapping Control 3*/
-		0x3f  0x00  /*0x3f:  TX1 Channel Mapping Control 4*/
-		0x44  0x0e  /*0x44:  TX2 Channel Mapping Control 1:ch3 ch4*/
-		0x45  0x00  /*0x45:  TX2 Channel Mapping Control 2*/
-		0x46  0x00  /*0x46:  TX2 Channel Mapping Control 3*/
-		0x47  0x00  /*0x47:  TX2 Channel Mapping Control 4*/
-		0xad  0x50
-		>;
 	};
 };
+&i2c2 {
+	status = "okay";
+};
 &i2s1 {
 	#sound-dai-cells = <0>;
 	status = "okay";
-- 
2.7.4

